<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="utf-8">
	<title>HealthLX FHIR Alerts sender demo app</title>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.18.0/axios.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.10/vue.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/vue-router/3.0.6/vue-router.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/element-ui/2.8.2/index.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/element-ui/2.8.2/locale/en.min.js"></script>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/element-ui/2.8.2/theme-chalk/index.css">
	<style>
		body {
			font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
			margin: 0;
		}
		.hlx-logo {
			float: right;
		}
		.hlx-logo > img {
			float: right;
			width: 40%;
		}
		#app {
			min-height: 100vh;
		}
		.el-select {
			width: 100%;
		}
  </style>
</head>

<body>

	<template id="hlx-patient-form">
		<el-form
				ref="patientForm"
				:rules="rules"
				v-loading="loading"
				:model="context"
				label-width="120px"
		>
			<el-form-item label="Patient">
				<el-input v-model="context.patient.name" :readonly="true"></el-input>
			</el-form-item>

			<el-form-item label="Event" prop="eventId">
				<el-select v-model="context.eventId" @change="onChange">
					<el-option
						v-for="event in context.events"
						:label="event.name"
						:value="event.id"></el-option>
				</el-select>
			</el-form-item>

			<el-form-item label="Channel type" prop="channelTypeId">
				<el-select v-model="context.channelTypeId" @change="onChange">
					<el-option
							v-for="channelType in context.channelTypes"
							:label="channelType.name"
							:value="channelType.id"></el-option>
				</el-select>
			</el-form-item>

			<el-form-item label="Receiver server">
				<el-input v-model="context.receiverUrl"></el-input>
			</el-form-item>

			<el-form-item>
				<el-button @click="submitForm" type="primary">Sent Alert</el-button>
			</el-form-item>

			<div>
				You can visit demo receiver app <a th:href="@{${receiverApp}}">here.</a>
			</div>

		</el-form>

	</template>


	<el-container id="app" width="320px">

		<el-header>
      <el-image src="da-vinci_logo.jpg" alt="Da Vinci"></el-image>
		</el-header>

		<el-main>
			<el-row type="flex" justify="center">
				<el-col :span="8" :xs="16" :sm="16" :md="8">
					<router-view></router-view>
				</el-col>
			</el-row>
		</el-main>
    <el-footer>
      <el-image src="healthlx-logo.png" alt="HealthLX" class="hlx-logo"></el-image>
    </el-footer>

	</el-container>

	<script th:inline="javascript">
		/*<![CDATA[*/
		var receiverUrl = /*[[${receiverUrl}]]*/ '';
		var receiverApp = /*[[${receiverApp}]]*/ '';
		/*]]>*/
	</script>

	<script type="text/javascript" src="app.js">
	</script>
</body>
</html>